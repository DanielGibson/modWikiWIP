



<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>

<script type="text/javascript" src="/static/js/analytics.js" ></script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>




		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="robots" content="noindex,follow" />
<meta name="keywords" content="Talk:SetGuiParm (script event),Kamikazee,Rich,Paveway" />
<link rel="shortcut icon" href="/web/20070729231805im_/http://modwiki.net/favicon.ico" />
<link title="Creative Commons" type="application/rdf+xml" href="/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;action=creativecommons" rel="meta" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
		<title>Talk:SetGuiParm (script event) - modwiki</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "/web/20070729231805cs_/http://modwiki.net/w/skins/monobook/main.css?9"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css"  href="/web/20070729231805cs_/http://modwiki.net/w/skins/common/commonPrint.css" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/w/skins/monobook/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/w/skins/monobook/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/w/skins/monobook/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/w/skins/monobook/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/w/skins/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		<script type="text/javascript">var skin = 'monobook';var stylepath = '/w/skins';</script>
		<script type="text/javascript" src="/web/20070729231805js_/http://modwiki.net/w/skins/common/wikibits.js?1"><!-- wikibits js --></script>
		<script type="text/javascript" src="/web/20070729231805js_/http://modwiki.net/w/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "/web/20070729231805cs_/http://modwiki.net/w/index.php?title=MediaWiki:Common.css&action=raw&ctype=text/css&smaxage=18000";
@import "/web/20070729231805cs_/http://modwiki.net/w/index.php?title=MediaWiki:Monobook.css&action=raw&ctype=text/css&smaxage=18000";
@import "/web/20070729231805cs_/http://modwiki.net/w/index.php?title=-&action=raw&gen=css&maxage=18000";
/*]]>*/</style>
		<!-- Head Scripts -->
			</head>
<body  class="ns-1 ltr">
<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script> if (window.archive_analytics) { window.archive_analytics.values['server_name']="wwwb-app11.us.archive.org";}; </script>

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1420070399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/modwiki.net\/w\/index.php?title=Talk:SetGuiParm_%28script_event%29&diff=next&oldid=7392&printable=yes&printable=yes";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 475;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "29";
var displayMonth = "Jul";
var displayYear = "2007";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" lang="en" class="__wb_banner_div" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px">


<div id="wm-ipp-inside" class="__wb_banner_div" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://modwiki.net/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;diff=next&amp;oldid=7392&amp;printable=yes&amp;printable=yes" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20070729231805" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;width: inherit !important" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Jun
                       
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 23:18:05 Jul 29, 2007">JUL</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Aug
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_prv_off.png" alt="Previous capture" width="14" height="16" border="0" />
                       
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 23:18:05 Jul 29, 2007">29</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2006
                       
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 23:18:05 Jul 29, 2007">2007</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2008
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20070729231805*/http://modwiki.net/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;diff=next&amp;oldid=7392&amp;printable=yes&amp;printable=yes" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>1 captures</strong></a>
           <div class="__wb_banner_div" style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">29 Jul 07 - 29 Jul 07</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:475px;height:27px;" href="" id="wm-graph-anchor">
       <div class="__wb_banner_div" id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:475px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="475"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=475_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000000_2007:6:000000100000_2008:-1:000000000000_2009:-1:000000000000_2010:-1:000000000000_2011:-1:000000000000_2012:-1:000000000000_2013:-1:000000000000_2014:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->

	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">Talk:SetGuiParm (script event)</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From modwiki</h3>
			<div id="contentSub">(Difference between revisions)</div>
									<div id="jump-to-nav">Jump to: <a href="/web/20070729231805/http://modwiki.net/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;diff=next&amp;oldid=7392&amp;printable=yes&amp;printable=yes#column-one">navigation</a>, <a href="/web/20070729231805/http://modwiki.net/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;diff=next&amp;oldid=7392&amp;printable=yes&amp;printable=yes#searchInput">search</a></div>			<!-- start content -->
			
			<table border='0' width='98%' cellpadding='0' cellspacing='4' class='diff'>
			<tr>
				<td colspan='2' width='50%' align='center' class='diff-otitle'><strong><a href='/web/20070729231805/http://modwiki.net/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;oldid=7392'>Revision as of 10:27, 28 May 2007</a></strong><br /><a href="/web/20070729231805/http://modwiki.net/wiki/User:Kamikazee" title="User:Kamikazee">Kamikazee</a>  (<a href="/web/20070729231805/http://modwiki.net/wiki/User_talk:Kamikazee" title="User talk:Kamikazee">Talk</a> | <a href="/web/20070729231805/http://modwiki.net/w/index.php?title=Special:Contributions&amp;target=Kamikazee" title="Special:Contributions">contribs</a>)<br /> <span class='comment'>(<span class="autocomment"><a href="/web/20070729231805/http://modwiki.net/wiki/Talk:SetGuiParm_%28script_event%29#Difference_in_the_SDK" title="Talk:SetGuiParm (script event)">→</a>Difference in the SDK -</span> Fixed some little mistakes)</span><br /><a href="/web/20070729231805/http://modwiki.net/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;diff=prev&amp;oldid=7392" title="Talk:SetGuiParm (script event)" id="differences-prevlink">? Previous diff</a></td>
				<td colspan='2' width='50%' align='center' class='diff-ntitle'><strong><a href='/web/20070729231805/http://modwiki.net/wiki/Talk:SetGuiParm_%28script_event%29'>Current revision</a></strong><br /><a href="/web/20070729231805/http://modwiki.net/wiki/User:Kamikazee" title="User:Kamikazee">Kamikazee</a>  (<a href="/web/20070729231805/http://modwiki.net/wiki/User_talk:Kamikazee" title="User talk:Kamikazee">Talk</a> | <a href="/web/20070729231805/http://modwiki.net/w/index.php?title=Special:Contributions&amp;target=Kamikazee" title="Special:Contributions">contribs</a>) <br /> <span class='comment'>(<span class="autocomment"><a href="/web/20070729231805/http://modwiki.net/wiki/Talk:SetGuiParm_%28script_event%29#Difference_in_the_SDK" title="Talk:SetGuiParm (script event)">→</a>Difference in the SDK -</span> Reworded a little)</span><br /></td>
			</tr>
			<tr><td colspan="2" align="left"><strong>Line 50:</strong></td>
<td colspan="2" align="left"><strong>Line 50:</strong></td></tr>
<tr><td> </td><td class='diff-context'>== Difference in the SDK ==</td><td> </td><td class='diff-context'>== Difference in the SDK ==</td></tr>
<tr><td> </td><td class='diff-context'></td><td> </td><td class='diff-context'></td></tr>
<tr><td>-</td><td class='diff-deletedline'>The two script events are handled in the SDK, more specifically in idEntity. Their code looks pretty similar, as they both set a &quot;<span class="diffchange">state string</span>&quot; directly in all the GUIs an entity has and forces them to update. (<span class="diffchange">And just </span>for info: this is why setKey doesn't work for GUIs. <span class="diffchange">The </span>entity's spawnvalues <span class="diffchange">are only parsed when </span>the entity <span class="diffchange">spawns</span>, <span class="diffchange">and </span>it only looks for keys starting with &quot;gui_parm&quot; or &quot;gui_noninteractive&quot;.)</td><td>+</td><td class='diff-addedline'>The two script events are handled in the SDK, more specifically in idEntity. Their code looks pretty similar, as they both set a &quot;<span class="diffchange">variable</span>&quot; directly in all the GUIs an entity has and forces them to update.</td></tr>
<tr><td colspan="2">&nbsp;</td><td>+</td><td class='diff-addedline'>&#160;</td></tr>
<tr><td colspan="2">&nbsp;</td><td>+</td><td class='diff-addedline'><span class="diffchange">&lt;small&gt;</span>( <span class="diffchange">Just </span>for info: this is why setKey doesn't work for GUIs. <span class="diffchange">setKey adds a key to an </span>entity's spawnvalues <span class="diffchange">after </span>the entity <span class="diffchange">was spawned. However, the spawnvalues are only copied to gui variables at spawn time. And it doesn't even copy them all</span>, it only looks for keys starting with &quot;gui_parm&quot; or <span class="diffchange">a key named </span>&quot;gui_noninteractive&quot;<span class="diffchange">. Also, setKey does not force an update of the gui, which makes sense</span>. )<span class="diffchange">&lt;/small&gt;</span></td></tr>
<tr><td> </td><td class='diff-context'></td><td> </td><td class='diff-context'></td></tr>
<tr><td> </td><td class='diff-context'>On top of that, SetGuiParm may actually do two things: if the key name starts with &quot;gui_&quot;, it will also add the given key/value to the parent entity's spawnvalues.</td><td> </td><td class='diff-context'>On top of that, SetGuiParm may actually do two things: if the key name starts with &quot;gui_&quot;, it will also add the given key/value to the parent entity's spawnvalues.</td></tr>
<tr><td colspan="2" align="left"><strong>Line 76:</strong></td>
<td colspan="2" align="left"><strong>Line 78:</strong></td></tr>
<tr><td> </td><td class='diff-context'>}&lt;/cpp&gt;</td><td> </td><td class='diff-context'>}&lt;/cpp&gt;</td></tr>
<tr><td> </td><td class='diff-context'></td><td> </td><td class='diff-context'></td></tr>
<tr><td>-</td><td class='diff-deletedline'>I hope that clears something up. Do remember though that all GUI parameters are only accessible <span class="diffchange">trough </span>&quot;gui::&lt;parameter name&gt;&quot;. --[[User:Kamikazee|Kamikazee]] 12:19, 28 May 2007 (CEST)</td><td>+</td><td class='diff-addedline'>I hope that clears something up.</td></tr>
<tr><td colspan="2">&nbsp;</td><td>+</td><td class='diff-addedline'>&#160;</td></tr>
<tr><td colspan="2">&nbsp;</td><td>+</td><td class='diff-addedline'>Do remember though that all GUI parameters are only accessible <span class="diffchange">through </span>&quot;gui::&lt;parameter name&gt;&quot;<span class="diffchange">. I highly doubt that the current implementation allows to set &quot;Desktop::floor&quot;, for example. That is, until an example proves otherwise</span>. --[[User:Kamikazee|Kamikazee]] 12:19, 28 May 2007 (CEST)</td></tr>

			</table>
		<hr /><h2>Current revision</h2>
<p>Should it be noted that SetGuiParm refers to setting a variable within the GUI? To me this could easily be confused with gui::gui_parm1 etc. <a href="/web/20070729231805/http://modwiki.net/w/index.php?title=User:Paveway&amp;action=edit" class="new" title="User:Paveway">Paveway</a> 20:55, 25 May 2007 (CEST)
</p>
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class='toclevel-1'><a href="/web/20070729231805/http://modwiki.net/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;diff=next&amp;oldid=7392&amp;printable=yes&amp;printable=yes#I.27m_not_sure_I.27m_following_you."><span class="tocnumber">1</span> <span class="toctext">I'm not sure I'm following you.</span></a></li>
<li class='toclevel-1'><a href="/web/20070729231805/http://modwiki.net/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;diff=next&amp;oldid=7392&amp;printable=yes&amp;printable=yes#Awkward"><span class="tocnumber">2</span> <span class="toctext">Awkward</span></a></li>
<li class='toclevel-1'><a href="/web/20070729231805/http://modwiki.net/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;diff=next&amp;oldid=7392&amp;printable=yes&amp;printable=yes#I.27m_at_a_loss"><span class="tocnumber">3</span> <span class="toctext">I'm at a loss</span></a></li>
<li class='toclevel-1'><a href="/web/20070729231805/http://modwiki.net/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;diff=next&amp;oldid=7392&amp;printable=yes&amp;printable=yes#Difference_in_the_SDK"><span class="tocnumber">4</span> <span class="toctext">Difference in the SDK</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/web/20070729231805/http://modwiki.net/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;action=edit&amp;section=1" title="Edit section: I'm not sure I'm following you.">edit</a>]</div><a name="I.27m_not_sure_I.27m_following_you."></a><h2> I'm not sure I'm following you. </h2>
<p>I assume you mean how a script like so...
</p>
<pre>&nbsp;
<span style="color: #000055;">$my_entity</span>.<span style="color: #ff0000;">setGuiParm</span><span style="color: #000000;">&#40;</span><span style="color: #666666;">"floor"</span>, <span style="color: #666666;">"District Admin"</span><span style="color: #000000;">&#41;</span>;</pre>
<p>... is referencing the variable "gui::floor"?
</p><p>I suppose they are technically variables but I'd like to think that it's easier to understand if you just think of them as key/value pairs.
</p><p>First, I can assign an entity with a gui attached to it a key/value pair called "floor" and reference that key/value pair from within a gui with "gui::floor". Secondly, I've never tried addressing any variables with SetGuiParm that didn't have a corresponding key/value pair?
</p><p>For instance, what if you had a GUI like this...
</p>
<pre>windowDef Desktop {
       rect    0 ,0 ,640 ,480 
       backcolor       0 ,0 ,0 ,0 
       visible 1
       nocursor        1
       float foo       0
</pre>
<p>How would you assign a value to "Desktop::foo" using SetGuiParm? Does this work? ...
</p>
<pre>&nbsp;
<span style="color: #000055;">$my_entity</span>.<span style="color: #ff0000;">setGuiParm</span><span style="color: #000000;">&#40;</span><span style="color: #666666;">"Desktop::foo"</span>, <span style="color: #666666;">"3"</span><span style="color: #000000;">&#41;</span>;</pre>
<p>--<a href="/web/20070729231805/http://modwiki.net/wiki/User:Rich" title="User:Rich">Rich</a> 09:16, 27 May 2007 (CEST)
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/web/20070729231805/http://modwiki.net/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;action=edit&amp;section=2" title="Edit section: Awkward">edit</a>]</div><a name="Awkward"></a><h2> Awkward </h2>
<p>The wording just seemed awkward somehow. If you look at SetGuiFloat vs SetGuiParm you might wonder what's the difference, since parm seems to be able to do more... I just thought it should be made clear that in essence SetGuiParm is for setting a "string" of sorts while float is limited to numbers. Again just a minor observation <a href="/web/20070729231805/http://modwiki.net/w/index.php?title=User:Paveway&amp;action=edit" class="new" title="User:Paveway">Paveway</a> 06:05, 28 May 2007 (CEST)
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/web/20070729231805/http://modwiki.net/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;action=edit&amp;section=3" title="Edit section: I'm at a loss">edit</a>]</div><a name="I.27m_at_a_loss"></a><h2> I'm at a loss </h2>
<p>You're right. It is confusing.
</p><p>I think both events do the same thing and I'm probably missing some key difference between them. But from what I can tell both events assign a value to what essentially is nothing more than a key/value pair.
</p><p>And since key/value pairs are strings, it shouldn't matter what the data type is. The result is a string. In that sense, it seems redundant to have a script event for floats and another for strings.
</p><p>If you ever work out what the difference is, please clue us all in.
</p><p>--<a href="/web/20070729231805/http://modwiki.net/wiki/User:Rich" title="User:Rich">Rich</a> 07:45, 28 May 2007 (CEST)
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/web/20070729231805/http://modwiki.net/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;action=edit&amp;section=4" title="Edit section: Difference in the SDK">edit</a>]</div><a name="Difference_in_the_SDK"></a><h2> Difference in the SDK </h2>
<p>The two script events are handled in the SDK, more specifically in idEntity. Their code looks pretty similar, as they both set a "variable" directly in all the GUIs an entity has and forces them to update.
</p><p><small>( Just for info: this is why setKey doesn't work for GUIs. setKey adds a key to an entity's spawnvalues after the entity was spawned. However, the spawnvalues are only copied to gui variables at spawn time. And it doesn't even copy them all, it only looks for keys starting with "gui_parm" or a key named "gui_noninteractive". Also, setKey does not force an update of the gui, which makes sense. )</small>
</p><p>On top of that, SetGuiParm may actually do two things: if the key name starts with "gui_", it will also add the given key/value to the parent entity's spawnvalues.
</p><p>For C++ lovers, here's the code:
</p>
<pre><span style="color: #0000ff;">void</span> idEntity::<span style="color: #00aabb;">Event_SetGuiParm</span><span style="color: #000000;">&#40;</span> <span style="color: #0000ff;">const</span> <span style="color: #0000ff;">char</span> *key, <span style="color: #0000ff;">const</span> <span style="color: #0000ff;">char</span> *val <span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>
	<span style="color: #0000ff;">for</span> <span style="color: #000000;">&#40;</span> <span style="color: #0000ff;">int</span> i = <span style="color: #0000dd;">0</span>; i &lt; MAX_RENDERENTITY_GUI; i++ <span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>
		<span style="color: #0000ff;">if</span> <span style="color: #000000;">&#40;</span> renderEntity.<span style="color: #00aabb;">gui</span><span style="color: #000000;">&#91;</span> i <span style="color: #000000;">&#93;</span> <span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>
			<span style="color: #0000ff;">if</span> <span style="color: #000000;">&#40;</span> idStr::<span style="color: #00aabb;">Icmpn</span><span style="color: #000000;">&#40;</span> key, <span style="color: #666666;">"gui_"</span>, <span style="color: #0000dd;">4</span> <span style="color: #000000;">&#41;</span> == <span style="color: #0000dd;">0</span> <span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>
				spawnArgs.<span style="color: #00aabb;">Set</span><span style="color: #000000;">&#40;</span> key, val <span style="color: #000000;">&#41;</span>;
			<span style="color: #000000;">&#125;</span>
			renderEntity.<span style="color: #00aabb;">gui</span><span style="color: #000000;">&#91;</span> i <span style="color: #000000;">&#93;</span>-&gt;SetStateString<span style="color: #000000;">&#40;</span> key, val <span style="color: #000000;">&#41;</span>;
			renderEntity.<span style="color: #00aabb;">gui</span><span style="color: #000000;">&#91;</span> i <span style="color: #000000;">&#93;</span>-&gt;StateChanged<span style="color: #000000;">&#40;</span> gameLocal.<span style="color: #00aabb;">time</span> <span style="color: #000000;">&#41;</span>;
		<span style="color: #000000;">&#125;</span>
	<span style="color: #000000;">&#125;</span>
<span style="color: #000000;">&#125;</span>
&nbsp;
<span style="color: #0000ff;">void</span> idEntity::<span style="color: #00aabb;">Event_SetGuiFloat</span><span style="color: #000000;">&#40;</span> <span style="color: #0000ff;">const</span> <span style="color: #0000ff;">char</span> *key, <span style="color: #0000ff;">float</span> f <span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>
	<span style="color: #0000ff;">for</span> <span style="color: #000000;">&#40;</span> <span style="color: #0000ff;">int</span> i = <span style="color: #0000dd;">0</span>; i &lt; MAX_RENDERENTITY_GUI; i++ <span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>
		<span style="color: #0000ff;">if</span> <span style="color: #000000;">&#40;</span> renderEntity.<span style="color: #00aabb;">gui</span><span style="color: #000000;">&#91;</span> i <span style="color: #000000;">&#93;</span> <span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#123;</span>
			renderEntity.<span style="color: #00aabb;">gui</span><span style="color: #000000;">&#91;</span> i <span style="color: #000000;">&#93;</span>-&gt;SetStateString<span style="color: #000000;">&#40;</span> key, va<span style="color: #000000;">&#40;</span> <span style="color: #666666;">"%f"</span>, f <span style="color: #000000;">&#41;</span> <span style="color: #000000;">&#41;</span>;
			renderEntity.<span style="color: #00aabb;">gui</span><span style="color: #000000;">&#91;</span> i <span style="color: #000000;">&#93;</span>-&gt;StateChanged<span style="color: #000000;">&#40;</span> gameLocal.<span style="color: #00aabb;">time</span> <span style="color: #000000;">&#41;</span>;
		<span style="color: #000000;">&#125;</span>
	<span style="color: #000000;">&#125;</span>
<span style="color: #000000;">&#125;</span></pre>
<p>I hope that clears something up.
</p><p>Do remember though that all GUI parameters are only accessible through "gui::&lt;parameter name&gt;". I highly doubt that the current implementation allows to set "Desktop::floor", for example. That is, until an example proves otherwise. --<a href="/web/20070729231805/http://modwiki.net/wiki/User:Kamikazee" title="User:Kamikazee">Kamikazee</a> 12:19, 28 May 2007 (CEST)
</p><div class="printfooter">
Retrieved from "<a href="/web/20070729231805/http://modwiki.net/wiki/Talk:SetGuiParm_%28script_event%29">http://modwiki.net/wiki/Talk:SetGuiParm_%28script_event%29</a>"</div>
						<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
				 <li id="ca-nstab-main"><a href="/web/20070729231805/http://modwiki.net/wiki/SetGuiParm_%28script_event%29">Article</a></li>
				 <li id="ca-talk" class="selected"><a href="/web/20070729231805/http://modwiki.net/wiki/Talk:SetGuiParm_%28script_event%29">Discussion</a></li>
				 <li id="ca-edit" class=" istalk"><a href="/web/20070729231805/http://modwiki.net/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;action=edit&amp;oldid=7393">Edit</a></li>
				 <li id="ca-addsection"><a href="/web/20070729231805/http://modwiki.net/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;action=edit&amp;section=new">+</a></li>
				 <li id="ca-history"><a href="/web/20070729231805/http://modwiki.net/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;action=history">History</a></li>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/web/20070729231805/http://modwiki.net/w/index.php?title=Special:Userlogin&amp;returnto=Talk:SetGuiParm_(script_event)">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/web/20070729231805im_/http://modwiki.net/wiki/upload/wiki.png);" href="/web/20070729231805/http://modwiki.net/wiki/Main_Page" title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-Main'>
		<h5>Main</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="/web/20070729231805/http://modwiki.net/wiki/Main_Page">Main Page</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-id Tech 4'>
		<h5>id Tech 4</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Doom-3"><a href="/web/20070729231805/http://modwiki.net/wiki/Doom_3">Doom 3</a></li>
				<li id="n-Quake-4"><a href="/web/20070729231805/http://modwiki.net/wiki/Quake_4">Quake 4</a></li>
				<li id="n-Prey"><a href="/web/20070729231805/http://modwiki.net/wiki/Prey">Prey</a></li>
				<li id="n-ETQW"><a href="/web/20070729231805/http://modwiki.net/wiki/Enemy_Territory:_Quake_Wars">ETQW</a></li>
				<li id="n-RTCW-2"><a href="/web/20070729231805/http://modwiki.net/wiki/Return_to_Castle_Wolfenstein_2">RTCW 2</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-id Tech 5'>
		<h5>id Tech 5</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Rage"><a href="/web/20070729231805/http://modwiki.net/wiki/Rage">Rage</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-Quick Links'>
		<h5>Quick Links</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Console"><a href="/web/20070729231805/http://modwiki.net/wiki/Console">Console</a></li>
				<li id="n-Script-Events"><a href="/web/20070729231805/http://modwiki.net/wiki/Scripting">Script Events</a></li>
				<li id="n-Material-Keywords"><a href="/web/20070729231805/http://modwiki.net/wiki/Material_%28decl%29">Material Keywords</a></li>
				<li id="n-Modification-List"><a href="/web/20070729231805/http://modwiki.net/wiki/Modlist">Modification List</a></li>
				<li id="n-Tutorial-List"><a href="/web/20070729231805/http://modwiki.net/wiki/Tutorial_list">Tutorial List</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-Wiki'>
		<h5>Wiki</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Open-tasks"><a href="/web/20070729231805/http://modwiki.net/wiki/modwiki:Open_tasks">Open tasks</a></li>
				<li id="n-recentchanges"><a href="/web/20070729231805/http://modwiki.net/wiki/Special:Recentchanges">Recent changes</a></li>
				<li id="n-Style-guide"><a href="/web/20070729231805/http://modwiki.net/wiki/modwiki:Style_guide">Style guide</a></li>
				<li id="n-help"><a href="/web/20070729231805/http://modwiki.net/wiki/Help:Contents">Help</a></li>
			</ul>
		</div>
	</div>
		<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/web/20070729231805/http://modwiki.net/wiki/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/web/20070729231805/http://modwiki.net/wiki/Special:Whatlinkshere/Talk:SetGuiParm_%28script_event%29">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/web/20070729231805/http://modwiki.net/wiki/Special:Recentchangeslinked/Talk:SetGuiParm_%28script_event%29">Related changes</a></li>
<li id="t-upload"><a href="/web/20070729231805/http://modwiki.net/wiki/Special:Upload">Upload file</a></li>
<li id="t-specialpages"><a href="/web/20070729231805/http://modwiki.net/wiki/Special:Specialpages">Special pages</a></li>
				<li id="t-print"><a href="/web/20070729231805/http://modwiki.net/w/index.php?title=Talk:SetGuiParm_%28script_event%29&amp;diff=next&amp;oldid=7392&amp;printable=yes&amp;printable=yes">Printable version</a></li>				<li id="t-ispermalink">Permanent link</li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="/web/20070729231805/http://www.mediawiki.org/"><img src="/web/20070729231805im_/http://modwiki.net/w/skins/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="/web/20070729231805/http://www.gnu.org/copyleft/fdl.html"><img src="/web/20070729231805im_/http://modwiki.net/w/skins/common/images/gnu-fdl.png" alt='GNU Free Documentation License 1.2' /></a></div>
			<ul id="f-list">
				<li id="lastmod"> This page was last modified 12:41, 28 May 2007.</li>
				<li id="copyright">Content is available under <a href="/web/20070729231805/http://www.gnu.org/copyleft/fdl.html" class='external ' title="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.2</a>.</li>
				<li id="privacy"><a href="/web/20070729231805/http://modwiki.net/wiki/modwiki:Privacy_policy" title="modwiki:Privacy policy">Privacy policy</a></li>
				<li id="about"><a href="/web/20070729231805/http://modwiki.net/wiki/modwiki:About" title="modwiki:About">About modwiki</a></li>
				<li id="disclaimer"><a href="/web/20070729231805/http://modwiki.net/wiki/modwiki:General_disclaimer" title="modwiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
	<script type="text/javascript"> if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by h982484 in 0.31 secs. -->
</body></html>





<!--
     FILE ARCHIVED ON 23:18:05 Jul 29, 2007 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 2:39:07 Oct 19, 2014.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
