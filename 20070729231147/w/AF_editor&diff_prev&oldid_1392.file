DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>

<script type="text/javascript" src="/static/js/analytics.js" ></script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>




		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="robots" content="noindex,nofollow" />
<meta name="keywords" content="AF editor" />
<link rel="shortcut icon" href="/web/20070729231147im_/http://modwiki.net/favicon.ico" />
<link title="Creative Commons" type="application/rdf+xml" href="/w/index.php?title=AF_editor&amp;action=creativecommons" rel="meta" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
		<title>AF editor - modwiki</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "/web/20070729231147cs_/http://modwiki.net/w/skins/monobook/main.css?9"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="/web/20070729231147cs_/http://modwiki.net/w/skins/common/commonPrint.css" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/w/skins/monobook/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/w/skins/monobook/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/w/skins/monobook/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/w/skins/monobook/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/w/skins/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		<script type="text/javascript">var skin = 'monobook';var stylepath = '/w/skins';</script>
		<script type="text/javascript" src="/web/20070729231147js_/http://modwiki.net/w/skins/common/wikibits.js?1"><!-- wikibits js --></script>
		<script type="text/javascript" src="/web/20070729231147js_/http://modwiki.net/w/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "/web/20070729231147cs_/http://modwiki.net/w/index.php?title=MediaWiki:Common.css&action=raw&ctype=text/css&smaxage=18000";
@import "/web/20070729231147cs_/http://modwiki.net/w/index.php?title=MediaWiki:Monobook.css&action=raw&ctype=text/css&smaxage=18000";
@import "/web/20070729231147cs_/http://modwiki.net/w/index.php?title=-&action=raw&gen=css&maxage=18000";
/*]]>*/</style>
		<!-- Head Scripts -->
			</head>
<body  class="ns-0 ltr">
<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script> if (window.archive_analytics) { window.archive_analytics.values['server_name']="wwwb-app15.us.archive.org";}; </script>

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1420070399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/modwiki.net\/w\/index.php?title=AF_editor&diff=prev&oldid=1392";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 475;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "29";
var displayMonth = "Jul";
var displayYear = "2007";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" lang="en" class="__wb_banner_div" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px">


<div id="wm-ipp-inside" class="__wb_banner_div" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://modwiki.net/w/index.php?title=AF_editor&amp;diff=prev&amp;oldid=1392" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20070729231147" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;width: inherit !important" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Jun
                       
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 23:11:47 Jul 29, 2007">JUL</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Aug
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_prv_off.png" alt="Previous capture" width="14" height="16" border="0" />
                       
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 23:11:47 Jul 29, 2007">29</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2006
                       
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 23:11:47 Jul 29, 2007">2007</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2008
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20070729231147*/http://modwiki.net/w/index.php?title=AF_editor&amp;diff=prev&amp;oldid=1392" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>1 captures</strong></a>
           <div class="__wb_banner_div" style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">29 Jul 07 - 29 Jul 07</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:475px;height:27px;" href="" id="wm-graph-anchor">
       <div class="__wb_banner_div" id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:475px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="475"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=475_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000000_2007:6:000000100000_2008:-1:000000000000_2009:-1:000000000000_2010:-1:000000000000_2011:-1:000000000000_2012:-1:000000000000_2013:-1:000000000000_2014:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->

	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">AF editor</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From modwiki</h3>
			<div id="contentSub">(Difference between revisions)</div>
									<div id="jump-to-nav">Jump to: <a href="/web/20070729231147/http://modwiki.net/w/index.php?title=AF_editor&amp;diff=prev&amp;oldid=1392#column-one">navigation</a>, <a href="/web/20070729231147/http://modwiki.net/w/index.php?title=AF_editor&amp;diff=prev&amp;oldid=1392#searchInput">search</a></div>			<!-- start content -->
			<div class="firstrevisionheader" style="text-align: center"><strong></strong><br /><a href="/web/20070729231147/http://modwiki.net/w/index.php?title=User:Parsonsbear&amp;action=edit" class="new" title="User:Parsonsbear">Parsonsbear</a>  (<a href="/web/20070729231147/http://modwiki.net/w/index.php?title=User_talk:Parsonsbear&amp;action=edit" class="new" title="User talk:Parsonsbear">Talk</a> | <a href="/web/20070729231147/http://modwiki.net/w/index.php?title=Special:Contributions&amp;target=Parsonsbear" title="Special:Contributions">contribs</a>)<br /><br /><a href="/web/20070729231147/http://modwiki.net/w/index.php?title=AF_editor&amp;diff=next&amp;oldid=1392" title="AF editor" id="differences-nextlink">Next diff →</a></div>
<hr /><h2>Revision as of 17:14, 21 September 2005</h2>
<p>This tut assumes that you know how to set up a character and it's def file and can spawn it in doom.
</p><p><br />
For this tut I used a totally custom mesh, skeleton hierarchy and naming convention which is very different from the doom models - it makes no difference what you call your bones, how how the skeleton is made.
This is not the way you *have* to do things, I just documented the way I set up a decent basic ragdoll on an entirely custom character from scratch.
THe basic hierarchy of my skeleton was
Code:
</p><p><br /> 
</p>
<pre>                                  shoulder-arm-armroll-forearm-forearmroll-hand
              spine-spine1-spine2/
</pre>
<p>origin - hips/                    \ neck-head
</p>
<pre>            \
             upleg-uplegroll-leg-legroll-foot-foot2-toebase
</pre>
<p><br />
</p><p>First of all you need an af_pose.md5anim for your character. It just needs to be one frame where all the bones have a key set on them.
</p><p>Make an initial AF file using the afeditor. We'll call this one 'myragdoll.af'
save it in doom3/models/af
</p><p>Point to this af file in the entitydef section of your character's def file, the
character model in this example is 'revenant'
Code:
entityDef revenant
{
</p><p><br />   
</p>
<pre>  "model"                     "revenant"
  "ragdoll"                  "myragdoll"
       
</pre>
<p><br />
Restart the doom editor.
</p><p>Make a room in doom to as a testmap.
</p><p>Type 'editafs' in the console to bring up the AF editor.
</p><p>Browse to your 'myragdoll' af file from the dropdown menu at the top.
</p><p>Go to the properties tab and write the name of your charcater's def file where it says 'model:'
</p><p>Go to the bodies tab, and there should be a default one called 'body'.
If the 'new' button is greyed out, it is becasue you have not pointed it to
a model, so go back to the properties tab and type the name of your def file again.
</p><p><br />
</p>
<ul><li><ul><li><ul><li>VERY IMPORTANT*********************************
</li></ul>
</li></ul>
</li></ul>
<p>Always hit the enter key after typing anything in any of the boxes in the
afeditor or picking anything from dropdown menus, and then hit the save buttonat the
bottom, because it has a habit of reverting your changes back to defaults if you don't.
</p>
<ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
<p><br />
You may have to restart the afeditor, or doom, or just select a different af file from the dropdown menu at the top and then select you myragdoll one again to refresh it, but if you are pointing to your models's af file in the properties tab, the 'new' button on the bodies tab should not be greyed out.
</p><p><br />
The first thing to do is to rename that default body 'body' in the bodies tab, to 'waist'.
</p><p>If I dont' say to change a setting than just ignore it and leave it at default.
</p><p>Settings for this first body 'waist' are:
</p><p>Type = box
Length, Width, height will vary, but call it 10, 10, 10 for now.
density = 0.2
Position is set to joint, this will position the box shape ariound the specified joint.
I set this to the 'hips' bone.
</p><p>Modified joint = origin
contained joints = *origin -*spine
</p><p>as you can see, I set it to affect the whole of both legs for now, but ths will change later.
</p><p><br />
</p><p>Make a new body called "chest"
</p><p><br />
Settings are the same as before except on the position tab
</p><p>joint = spine2
</p><p>and on the joints tab
</p><p>modified joint = spine1
</p><p>contained joints = *spine1
</p><p>I set this to affect the whole of the upper part of the model for now.
</p><p><br />
Now go to the constraints tab and make a new one called 'waist'
</p><p>type = universal
body1 = chest
body2 = waist
anchor = joint = spine1
shaft1 = angles
shaft2 = angles
limit type = cone = 90
limit orientation = angles
</p><p>The exact numbers will always depend on your models.
</p><p><br />
</p><p><br />
Now to see if the ragdoll is working, hit f2, load the testmap, bring up the console and type
Code:
</p>
<pre>spawn revenant
</pre>
<p>replacing 'revenant' with the name of your character's def file, obviosuly.
</p><p>When it's spawned, kill it - it's a good idea to set it's health to 1 in the def file.
</p><p>WHen it's dead, bring down the console again and type 'af_showbodies 1' and then type 'af_showbodynames 1' and then type 'g_dragentity 1'
</p><p>Now you should be able to lift the dead model with your cursor and you should see two yellow boxes, one in his chest and one in his hips area. These are the two bodies, 'waist' and 'chest' which you created. You can adjust the size of these bodies - which are actually collision boxes for you ragdoll - by changing the length, width, height numbers in the bodies tab.
</p><p><br />
alt+tab back to the editor
</p><p>Now to make one for the head -
</p><p><br />
Create a new body called 'head'
</p><p>type = box
position - whatever suits your model best, I used joint = head
</p><p>IF you haven't got a bone in a conventent place to center the head collision box, then use coords.
</p><p>Modified jont = neck
contained joints - *neck
</p><p><br />
Now you have to go back to the chest body and change it's contained joints, because before we included everything above spine1.
Change the chest contained joints to *spine1 -*neck
</p><p>You cannot have the same bone present in more than one body.
</p><p><br />
Make a new constraint called 'head'
</p><p>type = universal
body1 = head
body2 = chest
anchor joint = neck
limit type = cone
</p><p><br />
NOw you can f2 into the game again and drag your model to see the new head box.
</p><p>Now all we need are the limbs.
</p><p><br />
Make a new body called Rupleg
</p><p>type = box
length = 5
height = 20
width = 5
</p><p>I was able to position the box to fit the thigh by using joint = rightuplegroll, because that is the center of the models thgh, but if you just have one long thigh bone, then you'll have to use the upleg joint or coords.
</p><p>modified joint = rightupleg
contained joints *rightupleg -*rightleg
</p><p><br />
Make another new body called 'rlowleg'
</p><p><br />
type = cone
size= adjust to your model
position joint = rightleg (right shin bone)
modified joint = rightleg
contained joints = *rightleg
</p><p><br />
We use a cone here, becasue the point of the cone starts at the knee and spreads out as it reaches the foot, so it basically takes in the foot as well. You really don't want to be making a separate foot body.
</p><p><br />
Make a new constraint called 'rightupleg'
</p><p>type = universal
body1 = rightupleg
body2 = waist
anchor joint = rightupleg
limt type = cone = about 60
</p><p><br />
Make another new constraint called 'rightlowleg'
</p><p><br />
type = hinge
body1 = rightlowleg
body2 = rightupleg
anchor joint = rightleg (your shin bone)
axis = angles 0, 270
limit = angles =130, 70, 90
</p><p>THese hinge joints can be a pain to get the setting right on, but there's a good description at iddevnet.
</p><p><br />
Now f2 back into the game and check the results. Toss the doll around a bit to see if the knee bends correctly. If not, you'll have to chage the numbers on the hinge joint.
</p><p>Do exactly the same for the other leg.
</p><p><br />
Now, you must go back to the waist body, which currently has it's copntained joints taking in the legs as well, and change it to ignore the legs.
</p><p><br />
contained joints = *origin -*rightupleg -*leftupleg -*spine1
</p><p><br />
Now lastly, the arms.
</p><p><br />
</p><p><br />
Make a new body called 'Ruparm'
</p><p><br />
type = bone
joint1 = rightarm
joint2 = rightforearm
width something small like 5
modified joint = rightarm
contained joints = *rightarm -*rightforearm
</p><p>This is set to bone, rather than a box, and will give a diamond shape which will fir the bone, so as not torestrict the movemnt of the arms too much.
</p><p><br />
Make a new constraint called 'Ruparm'
</p><p>Type = universal
body1 = ruparm
body2 = chest
anchor joint = rightarm
shaft1 angles = -270, 0
shaft2 = -90, 0
limit type = cone = 95
limit orientation angles = -270, 0
</p><p>You may need to change some of these numbers to suit.
</p><p><br />
Make a new body called 'Rlowarm'
</p><p>Type = bone
joint1 = rightforearm
joint2 = righthand
width something like 5
modified joint = rightforearm
contained joints = *rightforearm
</p><p><br />
</p><p>Make a new constraint called 'Rlowarm'
</p><p>type = universsal
body1 = Rlowarm
body2 = Ruparm
anchor joint = rightforearm
shaft1 angle = 0, 270
shaft2 angle = 0, 90
limit type = cone = 60
limit orientation angle = 0,270
</p><p><br />
</p><p>Now you must go to the chest body and change it's contained joints to
</p>
<ul><li>spine1 -*neck -*leftarm -*rightarm
</li></ul>
<p><br />
For those who dont' know, putting a * before the names tells doom to include every bone in the hierarchy which comes after the *, putting a -* means to exlude every bone which comes after the -*.
</p><p><br />
Now do the same for the left arm as for the right, and you should have a good basic ragdoll.
You could go on to add hands as separate links if you want to, but it's hardly necessasry.
You should be seeing a pattern emerge from all of the above, so adding a couple of hands as hinge joints shouldn't be hard to figure out.
</p><p>You can easily knock a ragdoll out in half an hour now the mystery is gone, though obviosuly it can get more complex than this depending how outlandish your model is compared to a humanoid.
</p><div class="printfooter">
Retrieved from "<a href="/web/20070729231147/http://modwiki.net/wiki/AF_editor">http://modwiki.net/wiki/AF_editor</a>"</div>
						<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
				 <li id="ca-nstab-main" class="selected"><a href="/web/20070729231147/http://modwiki.net/wiki/AF_editor">Article</a></li>
				 <li id="ca-talk"><a href="/web/20070729231147/http://modwiki.net/wiki/Talk:AF_editor">Discussion</a></li>
				 <li id="ca-edit"><a href="/web/20070729231147/http://modwiki.net/w/index.php?title=AF_editor&amp;action=edit&amp;oldid=1392">Edit</a></li>
				 <li id="ca-history"><a href="/web/20070729231147/http://modwiki.net/w/index.php?title=AF_editor&amp;action=history">History</a></li>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/web/20070729231147/http://modwiki.net/w/index.php?title=Special:Userlogin&amp;returnto=AF_editor">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/web/20070729231147im_/http://modwiki.net/wiki/upload/wiki.png);" href="/web/20070729231147/http://modwiki.net/wiki/Main_Page" title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-Main'>
		<h5>Main</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="/web/20070729231147/http://modwiki.net/wiki/Main_Page">Main Page</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-id Tech 4'>
		<h5>id Tech 4</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Doom-3"><a href="/web/20070729231147/http://modwiki.net/wiki/Doom_3">Doom 3</a></li>
				<li id="n-Quake-4"><a href="/web/20070729231147/http://modwiki.net/wiki/Quake_4">Quake 4</a></li>
				<li id="n-Prey"><a href="/web/20070729231147/http://modwiki.net/wiki/Prey">Prey</a></li>
				<li id="n-ETQW"><a href="/web/20070729231147/http://modwiki.net/wiki/Enemy_Territory:_Quake_Wars">ETQW</a></li>
				<li id="n-RTCW-2"><a href="/web/20070729231147/http://modwiki.net/wiki/Return_to_Castle_Wolfenstein_2">RTCW 2</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-id Tech 5'>
		<h5>id Tech 5</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Rage"><a href="/web/20070729231147/http://modwiki.net/wiki/Rage">Rage</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-Quick Links'>
		<h5>Quick Links</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Console"><a href="/web/20070729231147/http://modwiki.net/wiki/Console">Console</a></li>
				<li id="n-Script-Events"><a href="/web/20070729231147/http://modwiki.net/wiki/Scripting">Script Events</a></li>
				<li id="n-Material-Keywords"><a href="/web/20070729231147/http://modwiki.net/wiki/Material_%28decl%29">Material Keywords</a></li>
				<li id="n-Modification-List"><a href="/web/20070729231147/http://modwiki.net/wiki/Modlist">Modification List</a></li>
				<li id="n-Tutorial-List"><a href="/web/20070729231147/http://modwiki.net/wiki/Tutorial_list">Tutorial List</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-Wiki'>
		<h5>Wiki</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Open-tasks"><a href="/web/20070729231147/http://modwiki.net/wiki/modwiki:Open_tasks">Open tasks</a></li>
				<li id="n-recentchanges"><a href="/web/20070729231147/http://modwiki.net/wiki/Special:Recentchanges">Recent changes</a></li>
				<li id="n-Style-guide"><a href="/web/20070729231147/http://modwiki.net/wiki/modwiki:Style_guide">Style guide</a></li>
				<li id="n-help"><a href="/web/20070729231147/http://modwiki.net/wiki/Help:Contents">Help</a></li>
			</ul>
		</div>
	</div>
		<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/web/20070729231147/http://modwiki.net/wiki/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/web/20070729231147/http://modwiki.net/wiki/Special:Whatlinkshere/AF_editor">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/web/20070729231147/http://modwiki.net/wiki/Special:Recentchangeslinked/AF_editor">Related changes</a></li>
<li id="t-upload"><a href="/web/20070729231147/http://modwiki.net/wiki/Special:Upload">Upload file</a></li>
<li id="t-specialpages"><a href="/web/20070729231147/http://modwiki.net/wiki/Special:Specialpages">Special pages</a></li>
				<li id="t-print"><a href="/web/20070729231147/http://modwiki.net/w/index.php?title=AF_editor&amp;diff=prev&amp;oldid=1392&amp;printable=yes">Printable version</a></li>				<li id="t-ispermalink">Permanent link</li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="/web/20070729231147/http://www.mediawiki.org/"><img src="/web/20070729231147im_/http://modwiki.net/w/skins/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="/web/20070729231147/http://www.gnu.org/copyleft/fdl.html"><img src="/web/20070729231147im_/http://modwiki.net/w/skins/common/images/gnu-fdl.png" alt='GNU Free Documentation License 1.2' /></a></div>
			<ul id="f-list">
				<li id="privacy"><a href="/web/20070729231147/http://modwiki.net/wiki/modwiki:Privacy_policy" title="modwiki:Privacy policy">Privacy policy</a></li>
				<li id="about"><a href="/web/20070729231147/http://modwiki.net/wiki/modwiki:About" title="modwiki:About">About modwiki</a></li>
				<li id="disclaimer"><a href="/web/20070729231147/http://modwiki.net/wiki/modwiki:General_disclaimer" title="modwiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
	<script type="text/javascript"> if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by h982484 in 0.23 secs. -->
</body></html>





<!--
     FILE ARCHIVED ON 23:11:47 Jul 29, 2007 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 2:40:35 Oct 19, 2014.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
