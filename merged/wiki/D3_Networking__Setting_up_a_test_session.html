<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>

<script type="text/javascript" src="/static/js/analytics.js" ></script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>




		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="D3 Networking: Setting up a test session" />
<link rel="shortcut icon" href="/favicon.ico" />
<link title="Creative Commons" type="application/rdf+xml" href="/w/index.php?title=D3_Networking:_Setting_up_a_test_session&amp;action=creativecommons" rel="meta" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
		<title>D3 Networking: Setting up a test session - modwiki</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "/w/skins/monobook/main.css?9"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="/w/skins/common/commonPrint.css" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/w/skins/monobook/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/w/skins/monobook/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/w/skins/monobook/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/w/skins/monobook/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/w/skins/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		<script type="text/javascript">var skin = 'monobook';var stylepath = '/w/skins';</script>
		<script type="text/javascript" src="/w/skins/common/wikibits.js?1"><!-- wikibits js --></script>
		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "/w/index.php?title=MediaWiki:Common.css&action=raw&ctype=text/css&smaxage=18000";
@import "/w/index.php?title=MediaWiki:Monobook.css&action=raw&ctype=text/css&smaxage=18000";
@import "/w/index.php?title=-&action=raw&gen=css&maxage=18000";
/*]]>*/</style>
		<!-- Head Scripts -->
			</head>
<body  class="ns-0 ltr">

	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">D3 Networking: Setting up a test session</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From modwiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="/wiki/D3_Networking:_Setting_up_a_test_session#column-one">navigation</a>, <a href="/wiki/D3_Networking:_Setting_up_a_test_session#searchInput">search</a></div>			<!-- start content -->
			<div class="editsection" style="float:right;margin-left:5px;">[<a href="/w/index.php?title=D3_Networking:_Setting_up_a_test_session&amp;action=edit&amp;section=1" title="Edit section: Setup">edit</a>]</div><a name="Setup"></a><h2> Setup  </h2>
<p>Well first of all there is a little problem with modifying the network code. After coding, you need to test it. That's not too easy, because you will need at least a dedicated server and one client. If you want to test it with two players, one client and one listen server would be nice. Cases exist where you even need two clients and one dedicated server!
</p><p>The good news is: you don't need multiple computers to test your cool new network code. You can run all the stuff on one machine. Therefore we need to run the dedicated server using:
</p>
<pre>"doom3ded.exe" +set developer 1 +set fs_game yourmod +set si_pure 0 +exec server.cfg 
</pre>
<p>and the client using:
</p>
<pre>"doom3.exe" +set fs_game yourmod +set si_pure 0 +set developer 1 +set win_allowmultipleInstances 1
+set r_fullscreen 0 +com_allowConsole 1 +r_brightness 1 +r_mode 4 +connect localhost
</pre>
<p>So what does all this stuff do?
</p>
<dl><dt> +set developer 1
</dt><dd> Starts the game in developer mode. Very usefull for debugging stuff.
</dd><dt> +set fs_game yourmod
</dt><dd> Make the game load <i>yourmod</i> (Change <i>yourmod</i> with your mod's name, of course!)
</dd><dt> +set si_pure 0
</dt><dd> This one is very useful because you don't need to pak all your stuff into pak files. The game is now allowed to load custom files directly.
</dd><dt> +exec server.cfg
</dt><dd> Make the server run <i>server.cfg</i> which contains all the usefull settings and commands
</dd><dt> +set win_allowmultipleInstances 1
</dt><dd> Sets up Doom3 to allow running multiple instances of the game on one computer. This is really required, because we the server we just started counts as a running instance of Doom 3.
</dd><dt> +set r_fullscreen 0
</dt><dd> This one runs the game in windowed mode. Usefull to access the dedicated server while ingame.
</dd><dt> +com_allowConsole 1
</dt><dd> Add this Cvar to enable fast access to the console by pressing <b>~</b>. (Or do your prefer pressing <b>Ctrl + Shift + ~</b>&nbsp;?)
</dd><dt> +r_brightness 1
</dt><dd> Changes your game to the default brightness. Forget this and Windows will look so bright you could get snow blindness.
</dd><dt> +r_mode 4
</dt><dd> Sets up a default video mode. Presumably 800x600.
</dd><dt> +connect localhost
</dt><dd> Connects the game to the dedicated server we just started.
</dd></dl>
<p>That's it, you should now have two instances of the game running! If this is not the case, take a look at the console of the server or the client. See what errors are printed and try fix it. (This may involve editing your server.cfg.)
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/w/index.php?title=D3_Networking:_Setting_up_a_test_session&amp;action=edit&amp;section=2" title="Edit section: Debug Information">edit</a>]</div><a name="Debug_Information"></a><h2> Debug Information </h2>
<p>Now let's a closer look at the Doom3 network code. Using the following CVars give you more details about the game engine and the current network traffic:
</p>
<dl><dt> com_showAsyncstats 0|1
</dt><dd> This one is engine related. It shows the current outgoing/incoming traffic. It is very useful for debugging, because you are able to see how much overall traffic your code generates. The important value ( on the client ) is the incoming traffic. In contrast to the outgoing traffic (mostly usercommands) your server side network code will directly influence in the incoming traffic rate. A rule of thumb: Just keep it below 6000 b/s and the mod should be running fine.
</dd><dt> net_clientShowSnapshot 0|1|2|3
</dt><dd> When enabled this one gives you info about the entities and the amount of traffic they generate. They are divided into three groups:
<ul><li> Green - Entity is currently transmitting traffic
</li><li> Yellow - Entity is a network entity, but not producing any traffic (gets deltified away - more on this later))
</li><li> Grey - Entity is a map entitiy (spawns on the client, when the map is loaded)
</li></ul>
</dd></dl>

<!-- Saved in parser cache with key modwiki:pcache:idhash:3753-0!1!0!0!!en!2 and timestamp 20091224102527 -->
<div class="printfooter">
Retrieved from "<a href="/wiki/D3_Networking:_Setting_up_a_test_session">http://www.modwiki.net/wiki/D3_Networking:_Setting_up_a_test_session</a>"</div>
			<div id="catlinks"><p class='catlinks'><a href="/w/index.php?title=Special:Categories&amp;article=D3_Networking%3A_Setting_up_a_test_session" title="Special:Categories">Category</a>: <span dir='ltr'><a href="/wiki/Category:Coding" title="Category:Coding">Coding</a></span><br /><hr /><a href="/wiki/Category:Modwiki" title="Category:Modwiki">Modwiki</a> &gt; <a href="/wiki/Category:Coding" title="Category:Coding">Coding</a></p></div>			<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/D3_Networking:_Setting_up_a_test_session">Article</a></li>
				 <li id="ca-talk" class="new"><a href="/w/index.php?title=Talk:D3_Networking:_Setting_up_a_test_session&amp;action=edit">Discussion</a></li>
				 <li id="ca-edit"><a href="/w/index.php?title=D3_Networking:_Setting_up_a_test_session&amp;action=edit">Edit</a></li>
				 <li id="ca-history"><a href="/w/index.php?title=D3_Networking:_Setting_up_a_test_session&amp;action=history">History</a></li>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/w/index.php?title=Special:Userlogin&amp;returnto=D3_Networking:_Setting_up_a_test_session">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/web/20091225084448im_/http://www.modwiki.net/wiki/upload/wiki.png);" href="/wiki/Main_Page" title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-Main'>
		<h5>Main</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="/wiki/Main_Page">Main Page</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-id Tech 4'>
		<h5>id Tech 4</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Doom-3"><a href="/wiki/Doom_3">Doom 3</a></li>
				<li id="n-Quake-4"><a href="/wiki/Quake_4">Quake 4</a></li>
				<li id="n-Prey"><a href="/wiki/Prey">Prey</a></li>
				<li id="n-ETQW"><a href="/wiki/Enemy_Territory:_Quake_Wars">ETQW</a></li>
				<li id="n-Wolfenstein"><a href="/wiki/Wolfenstein">Wolfenstein</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-id Tech 5'>
		<h5>id Tech 5</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Rage"><a href="/wiki/Rage">Rage</a></li>
				<li id="n-Doom-4"><a href="/wiki/Doom_4">Doom 4</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-Quick Links'>
		<h5>Quick Links</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Console"><a href="/wiki/Console">Console</a></li>
				<li id="n-Script-Events"><a href="/wiki/Scripting">Script Events</a></li>
				<li id="n-Material-Keywords"><a href="/wiki/Material_%28decl%29">Material Keywords</a></li>
				<li id="n-Modification-List"><a href="/wiki/Modlist">Modification List</a></li>
				<li id="n-Tutorial-List"><a href="/wiki/Tutorial_list">Tutorial List</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-Wiki'>
		<h5>Wiki</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Open-tasks"><a href="/wiki/modwiki:Open_tasks">Open tasks</a></li>
				<li id="n-recentchanges"><a href="/wiki/Special:Recentchanges">Recent changes</a></li>
				<li id="n-Style-guide"><a href="/wiki/modwiki:Style_guide">Style guide</a></li>
				<li id="n-help"><a href="/wiki/Help:Contents">Help</a></li>
			</ul>
		</div>
	</div>
		<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/wiki/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/wiki/Special:Whatlinkshere/D3_Networking:_Setting_up_a_test_session">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/wiki/Special:Recentchangeslinked/D3_Networking:_Setting_up_a_test_session">Related changes</a></li>
<li id="t-upload"><a href="/wiki/Special:Upload">Upload file</a></li>
<li id="t-specialpages"><a href="/wiki/Special:Specialpages">Special pages</a></li>
				<li id="t-print"><a href="/w/index.php?title=D3_Networking:_Setting_up_a_test_session&amp;printable=yes">Printable version</a></li>				<li id="t-permalink"><a href="/w/index.php?title=D3_Networking:_Setting_up_a_test_session&amp;oldid=7279">Permanent link</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="/web/20091225084448/http://www.mediawiki.org/"><img src="/w/skins/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="/web/20091225084448/http://www.gnu.org/copyleft/fdl.html"><img src="/w/skins/common/images/gnu-fdl.png" alt='GNU Free Documentation License 1.2' /></a></div>
			<ul id="f-list">
				<li id="lastmod"> This page was last modified 21:27, 20 May 2007.</li>
				<li id="copyright">Content is available under <a href="/web/20091225084448/http://www.gnu.org/copyleft/fdl.html" class='external ' title="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.2</a>.</li>
				<li id="privacy"><a href="/wiki/modwiki:Privacy_policy" title="modwiki:Privacy policy">Privacy policy</a></li>
				<li id="about"><a href="/wiki/modwiki:About" title="modwiki:About">About modwiki</a></li>
				<li id="disclaimer"><a href="/wiki/modwiki:General_disclaimer" title="modwiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
	<script type="text/javascript"> if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by h982484 in 0.16 secs. -->
</body></html>





<!--
     FILE ARCHIVED ON 8:44:48 Dec 25, 2009 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 3:58:40 Oct 19, 2014.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
