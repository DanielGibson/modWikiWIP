<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>

<script type="text/javascript" src="/static/js/analytics.js" ></script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>




		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="DAT (file format),Folder structure (Doom 3),TGA (file format),TTF (file format)" />
<link rel="shortcut icon" href="/favicon.ico" />
<link title="Creative Commons" type="application/rdf+xml" href="/w/index.php?title=DAT_%28file_format%29&amp;action=creativecommons" rel="meta" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
		<title>DAT (file format) - modwiki</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "/w/skins/monobook/main.css?9"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="/w/skins/common/commonPrint.css" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/w/skins/monobook/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/w/skins/monobook/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/w/skins/monobook/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/w/skins/monobook/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/w/skins/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		<script type="text/javascript">var skin = 'monobook';var stylepath = '/w/skins';</script>
		<script type="text/javascript" src="/w/skins/common/wikibits.js?1"><!-- wikibits js --></script>
		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "/w/index.php?title=MediaWiki:Common.css&action=raw&ctype=text/css&smaxage=18000";
@import "/w/index.php?title=MediaWiki:Monobook.css&action=raw&ctype=text/css&smaxage=18000";
@import "/w/index.php?title=-&action=raw&gen=css&maxage=18000";
/*]]>*/</style>
		<!-- Head Scripts -->
			</head>
<body  class="ns-0 ltr">

	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">DAT (file format)</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From modwiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="/wiki/DAT_%28file_format%29#column-one">navigation</a>, <a href="/wiki/DAT_%28file_format%29#searchInput">search</a></div>			<!-- start content -->
			<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class='toclevel-1'><a href="/wiki/DAT_%28file_format%29#General_Information"><span class="tocnumber">1</span> <span class="toctext">General Information</span></a></li>
<li class='toclevel-1'><a href="/wiki/DAT_%28file_format%29#File_Format"><span class="tocnumber">2</span> <span class="toctext">File Format</span></a>
<ul>
<li class='toclevel-2'><a href="/wiki/DAT_%28file_format%29#Glyphs"><span class="tocnumber">2.1</span> <span class="toctext">Glyphs</span></a></li>
<li class='toclevel-2'><a href="/wiki/DAT_%28file_format%29#Tail_End"><span class="tocnumber">2.2</span> <span class="toctext">Tail End</span></a></li>
</ul>
</li>
<li class='toclevel-1'><a href="/wiki/DAT_%28file_format%29#Tools"><span class="tocnumber">3</span> <span class="toctext">Tools</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/w/index.php?title=DAT_%28file_format%29&amp;action=edit&amp;section=1" title="Edit section: General Information">edit</a>]</div><a name="General_Information"></a><h2>General Information</h2>
<p>DAT files store glyph and image lookup data for use with a set of corresponding <a href="/wiki/TGA_%28file_format%29" title="TGA (file format)"> TGA</a> files. Together these files make up the bitmap fonts used in the game. But unlike most filetypes used with idTech 4, these files are binary and as such should not be edited in a text editor. They can can be found in the <a href="/wiki/Folder_structure_%28Doom_3%29#.2Fbase.2Ffonts" title="Folder structure (Doom 3)"> fonts</a> directory and it's subfolders.
</p><p>The fonts consist of 256 glyphs and are rendered at three sizes, 12pt, 24pt, and 48pt with a respective DAT file for each. The TGA files are 256 by 256 with a 32 bit color depth. Traditionally the images are white in color (allowing for the color to be adjusted in post) while the glyphs are visible only in the alpha channel. Because each TGA is rendered at a fixed resolution the entire set of glyphs may span several image files.
</p><p>This bitmap font implementation was also present in Quake 3 and other idTech 3 based games. As such, third party utilities to create bitmap fonts for idTech 3 based games can be used with idTech 4 based games as well. A few such utilities are listed below in the tools section.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/w/index.php?title=DAT_%28file_format%29&amp;action=edit&amp;section=2" title="Edit section: File Format">edit</a>]</div><a name="File_Format"></a><h2>File Format</h2>
<p>The overall format of the file is best described as a memory dump of the fontInfo_t structure as defined in the Quake 3 source code. From q_shared.h ...
</p>
<pre>00346 #define MAX_QPATH           64

...

01681 #define GLYPH_START 0
01682 #define GLYPH_END 255
01683 #define GLYPH_CHARSTART 32
01684 #define GLYPH_CHAREND 127
01685 #define GLYPHS_PER_FONT GLYPH_END - GLYPH_START + 1

...

01705 typedef struct {
01706   glyphInfo_t glyphs [GLYPHS_PER_FONT];
01707     float glyphScale;
01708     char name[MAX_QPATH];
01709 } fontInfo_t;
</pre>
<p>You have an array consisting of 256 elements of type glyphInfo_t, followed by a float, followed by a character array 64 characters in length.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/w/index.php?title=DAT_%28file_format%29&amp;action=edit&amp;section=3" title="Edit section: Glyphs">edit</a>]</div><a name="Glyphs"></a><h3>Glyphs</h3>
<p>The glyphInfo_t structure is defined ...
</p>
<pre>00312 typedef int     qhandle_t;

...

01688 typedef struct {
01689   int height;       
01690   int top;          
01691   int bottom;       
01692   int pitch;        
01693   int xSkip;        
01694   int imageWidth;   
01695   int imageHeight;  
01696   float s;          
01697   float t;          
01698   float s2;
01699   float t2;
01700   qhandle_t glyph;  // handle to the shader with the glyph
01701     char shaderName[32];
01702 } glyphInfo_t;
</pre>
<p><br />
Integers are 4 bytes. Floats are 4 bytes. The character array is 32 bytes. This makes each of the 256 blocks 80 bytes for a total of 20480 bytes.
</p><p>The image name is stored in the character array shaderName. The image lookup data for each glyph consists of the four variables, s, t, s2, and t2. These are floats which when multiplied by 256 can be translated into x and y image coordinates.
</p><p>The function of the remaining variables has yet to be determined. It's assumed that they pertain to rendering.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/w/index.php?title=DAT_%28file_format%29&amp;action=edit&amp;section=4" title="Edit section: Tail End">edit</a>]</div><a name="Tail_End"></a><h3>Tail End</h3>
<p>The tail end of the file consists of the float glyphScale, and the 64 character array name for a total of 68 bytes. This plus the 20480 bytes of glyph data makes for 20548 bytes which checks out with the filesize of each DAT file. The function of these variables also has yet to be determined.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/w/index.php?title=DAT_%28file_format%29&amp;action=edit&amp;section=5" title="Edit section: Tools">edit</a>]</div><a name="Tools"></a><h2>Tools</h2>
<ul><li><a href="/web/20091209010324/http://www.q3f.com/q3font.html" class='external text' title="http://www.q3f.com/q3font.html">Q3Font</a> (<a href="/web/20091209010324/http://www.splashdamage.com/files/q3font_1.52.zip" class='external text' title="http://www.splashdamage.com/files/q3font_1.52.zip">Last Version</a>) - The premiere tool used to convert <a href="/w/index.php?title=TTF_%28file_format%29&amp;action=edit" class="new" title="TTF (file format)">.TTF</a> files into Quake 3/Doom 3-ready fonts. Created by Arnout 'RR2DO2' van Meer of Splash Damage.
</li><li><a href="/web/20091209010324/http://members.optusnet.com.au/~g.davies/ExportFontToDoom3" class='external text' title="http://members.optusnet.com.au/~g.davies/ExportFontToDoom3">ExportFontToDoom3</a> - A new font conversion tool, specially designed for Doom 3 and with new features and fixes. Source code is also available online. Created by Grant Davies.
</li></ul>

<!-- Saved in parser cache with key modwiki:pcache:idhash:8163-0!1!0!0!!en!2 and timestamp 20091208184104 -->
<div class="printfooter">
Retrieved from "<a href="/wiki/DAT_%28file_format%29">http://www.modwiki.net/wiki/DAT_%28file_format%29</a>"</div>
			<div id="catlinks"><p class='catlinks'><a href="/w/index.php?title=Special:Categories&amp;article=DAT_%28file_format%29" title="Special:Categories">Category</a>: <span dir='ltr'><a href="/wiki/Category:File_formats" title="Category:File formats">File formats</a></span><br /><hr /><a href="/wiki/Category:Modwiki" title="Category:Modwiki">Modwiki</a> &gt; <a href="/wiki/Category:Engine_reference" title="Category:Engine reference">Engine reference</a> &gt; <a href="/wiki/Category:File_system" title="Category:File system">File system</a> &gt; <a href="/wiki/Category:File_formats" title="Category:File formats">File formats</a></p></div>			<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/DAT_%28file_format%29">Article</a></li>
				 <li id="ca-talk"><a href="/wiki/Talk:DAT_%28file_format%29">Discussion</a></li>
				 <li id="ca-edit"><a href="/w/index.php?title=DAT_%28file_format%29&amp;action=edit">Edit</a></li>
				 <li id="ca-history"><a href="/w/index.php?title=DAT_%28file_format%29&amp;action=history">History</a></li>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/w/index.php?title=Special:Userlogin&amp;returnto=DAT_(file_format)">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/web/20091209010324im_/http://www.modwiki.net/wiki/upload/wiki.png);" href="/wiki/Main_Page" title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-Main'>
		<h5>Main</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="/wiki/Main_Page">Main Page</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-id Tech 4'>
		<h5>id Tech 4</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Doom-3"><a href="/wiki/Doom_3">Doom 3</a></li>
				<li id="n-Quake-4"><a href="/wiki/Quake_4">Quake 4</a></li>
				<li id="n-Prey"><a href="/wiki/Prey">Prey</a></li>
				<li id="n-ETQW"><a href="/wiki/Enemy_Territory:_Quake_Wars">ETQW</a></li>
				<li id="n-Wolfenstein"><a href="/wiki/Wolfenstein">Wolfenstein</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-id Tech 5'>
		<h5>id Tech 5</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Rage"><a href="/wiki/Rage">Rage</a></li>
				<li id="n-Doom-4"><a href="/wiki/Doom_4">Doom 4</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-Quick Links'>
		<h5>Quick Links</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Console"><a href="/wiki/Console">Console</a></li>
				<li id="n-Script-Events"><a href="/wiki/Scripting">Script Events</a></li>
				<li id="n-Material-Keywords"><a href="/wiki/Material_%28decl%29">Material Keywords</a></li>
				<li id="n-Modification-List"><a href="/wiki/Modlist">Modification List</a></li>
				<li id="n-Tutorial-List"><a href="/wiki/Tutorial_list">Tutorial List</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-Wiki'>
		<h5>Wiki</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Open-tasks"><a href="/wiki/modwiki:Open_tasks">Open tasks</a></li>
				<li id="n-recentchanges"><a href="/wiki/Special:Recentchanges">Recent changes</a></li>
				<li id="n-Style-guide"><a href="/wiki/modwiki:Style_guide">Style guide</a></li>
				<li id="n-help"><a href="/wiki/Help:Contents">Help</a></li>
			</ul>
		</div>
	</div>
		<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/wiki/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/wiki/Special:Whatlinkshere/DAT_%28file_format%29">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/wiki/Special:Recentchangeslinked/DAT_%28file_format%29">Related changes</a></li>
<li id="t-upload"><a href="/wiki/Special:Upload">Upload file</a></li>
<li id="t-specialpages"><a href="/wiki/Special:Specialpages">Special pages</a></li>
				<li id="t-print"><a href="/w/index.php?title=DAT_%28file_format%29&amp;printable=yes">Printable version</a></li>				<li id="t-permalink"><a href="/w/index.php?title=DAT_%28file_format%29&amp;oldid=13264">Permanent link</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="/web/20091209010324/http://www.mediawiki.org/"><img src="/w/skins/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="/web/20091209010324/http://www.gnu.org/copyleft/fdl.html"><img src="/w/skins/common/images/gnu-fdl.png" alt='GNU Free Documentation License 1.2' /></a></div>
			<ul id="f-list">
				<li id="lastmod"> This page was last modified 10:23, 9 August 2009.</li>
				<li id="copyright">Content is available under <a href="/web/20091209010324/http://www.gnu.org/copyleft/fdl.html" class='external ' title="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.2</a>.</li>
				<li id="privacy"><a href="/wiki/modwiki:Privacy_policy" title="modwiki:Privacy policy">Privacy policy</a></li>
				<li id="about"><a href="/wiki/modwiki:About" title="modwiki:About">About modwiki</a></li>
				<li id="disclaimer"><a href="/wiki/modwiki:General_disclaimer" title="modwiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
	<script type="text/javascript"> if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by h982484 in 0.19 secs. -->
</body></html>





<!--
     FILE ARCHIVED ON 1:03:24 Dec 9, 2009 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 3:59:33 Oct 19, 2014.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
