<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>

<script type="text/javascript" src="/static/js/analytics.js" ></script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>




		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="keywords" content="How to build the SDK on Linux,Doom 3,Building on linux" />
<link rel="shortcut icon" href="/favicon.ico" />
<link title="Creative Commons" type="application/rdf+xml" href="/w/index.php?title=How_to_build_the_SDK_on_Linux&amp;action=creativecommons" rel="meta" />
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />
		<title>How to build the SDK on Linux - modwiki</title>
		<style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "/w/skins/monobook/main.css?9"; /*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="/w/skins/common/commonPrint.css" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/w/skins/monobook/IE50Fixes.css";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/w/skins/monobook/IE55Fixes.css";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/w/skins/monobook/IE60Fixes.css";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/w/skins/monobook/IE70Fixes.css?1";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/w/skins/common/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		<script type="text/javascript">var skin = 'monobook';var stylepath = '/w/skins';</script>
		<script type="text/javascript" src="/w/skins/common/wikibits.js?1"><!-- wikibits js --></script>
		<script type="text/javascript" src="/w/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "/w/index.php?title=MediaWiki:Common.css&action=raw&ctype=text/css&smaxage=18000";
@import "/w/index.php?title=MediaWiki:Monobook.css&action=raw&ctype=text/css&smaxage=18000";
@import "/w/index.php?title=-&action=raw&gen=css&maxage=18000";
/*]]>*/</style>
		<!-- Head Scripts -->
			</head>
<body  class="ns-0 ltr">

	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">How to build the SDK on Linux</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From modwiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="/wiki/How_to_build_the_SDK_on_Linux#column-one">navigation</a>, <a href="/wiki/How_to_build_the_SDK_on_Linux#searchInput">search</a></div>			<!-- start content -->
			<div align="left" style="color: black; font-size: 18px; padding: 1px; border: 0px solid #000000;"><a href="/wiki/Image:D3square_bg.png" class="image" title="Image:D3square_bg.png"><img src="/w/images/c/cb/D3square_bg.png" alt="Image:D3square_bg.png" width="50" height="50" longdesc="/wiki/Image:D3square_bg.png" /></a> The information on this page is specific to <a href="/wiki/Doom_3" title="Doom 3">Doom 3</a>.</div>
<hr />
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class='toclevel-1'><a href="/wiki/How_to_build_the_SDK_on_Linux#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class='toclevel-1'><a href="/wiki/How_to_build_the_SDK_on_Linux#Requirements"><span class="tocnumber">2</span> <span class="toctext">Requirements</span></a></li>
<li class='toclevel-1'><a href="/wiki/How_to_build_the_SDK_on_Linux#Step_1._Unpacking_the_SDK"><span class="tocnumber">3</span> <span class="toctext">Step 1. Unpacking the SDK</span></a></li>
<li class='toclevel-1'><a href="/wiki/How_to_build_the_SDK_on_Linux#Step_2._Running_scons"><span class="tocnumber">4</span> <span class="toctext">Step 2. Running scons</span></a>
<ul>
<li class='toclevel-2'><a href="/wiki/How_to_build_the_SDK_on_Linux#Successful_build"><span class="tocnumber">4.1</span> <span class="toctext">Successful build</span></a></li>
<li class='toclevel-2'><a href="/wiki/How_to_build_the_SDK_on_Linux#Missing_OpenGL_libraries"><span class="tocnumber">4.2</span> <span class="toctext">Missing OpenGL libraries</span></a></li>
<li class='toclevel-2'><a href="/wiki/How_to_build_the_SDK_on_Linux#Wrong_compiler_version"><span class="tocnumber">4.3</span> <span class="toctext">Wrong compiler version</span></a></li>
<li class='toclevel-2'><a href="/wiki/How_to_build_the_SDK_on_Linux#Building_on_x86_64_.28AMD64.29"><span class="tocnumber">4.4</span> <span class="toctext">Building on x86_64 (AMD64)</span></a></li>
</ul>
</li>
<li class='toclevel-1'><a href="/wiki/How_to_build_the_SDK_on_Linux#Packaging_the_file_into_a_pk4"><span class="tocnumber">5</span> <span class="toctext">Packaging the file into a pk4</span></a></li>
<li class='toclevel-1'><a href="/wiki/How_to_build_the_SDK_on_Linux#Wrap_Up"><span class="tocnumber">6</span> <span class="toctext">Wrap Up</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/w/index.php?title=How_to_build_the_SDK_on_Linux&amp;action=edit&amp;section=1" title="Edit section: Introduction">edit</a>]</div><a name="Introduction"></a><h2> Introduction </h2>
<p>This is a guide on how to compile the SDK on linux and package your mod.  It assumes basic knowledge of linux, the command line, and using a package manager for your particular distribution.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/w/index.php?title=How_to_build_the_SDK_on_Linux&amp;action=edit&amp;section=2" title="Edit section: Requirements">edit</a>]</div><a name="Requirements"></a><h2> Requirements </h2>
<ul><li> A fairly modern linux distribution
</li><li> <a href="/web/20100722231610/http://zerowing.idsoftware.com:6969/stats.html?info_hash=dfcabae6d2a7c6ad23d4c1c466f25cb60262ff21" class='external text' title="http://zerowing.idsoftware.com:6969/stats.html?info_hash=dfcabae6d2a7c6ad23d4c1c466f25cb60262ff21">The SDK v1.3.1 package</a> (torrent)
</li><li> GCC 4.x
</li><li> Scons 0.96 - distribution specific
</li><li> X11 development libraries, usually called libx11-dev
</li><li> OpenGL development libraries, usually called xlibmesa-gl-dev - distribution specific
</li></ul>
<p>Please note that you <i>MUST</i> use GCC 3.3 if compiling any SDK prior to v1.3.1.  The guide will go over how to deal with a system having more than one version of GCC.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/w/index.php?title=How_to_build_the_SDK_on_Linux&amp;action=edit&amp;section=3" title="Edit section: Step 1. Unpacking the SDK">edit</a>]</div><a name="Step_1._Unpacking_the_SDK"></a><h2> Step 1. Unpacking the SDK </h2>
<p>After you have downloaded the SDK, you need to run the file to extract and install the files.  On most systems, the .run file will need to be granted execute permission before it can be run.
</p>
<pre>linux $ chmod +x doom3-linux-1.3.1302-sdk.x86.run
</pre>
<p>Then, run the file, and follow the on screen instructions.  This guide is going to assume that the package was extracted to /usr/local/games/doom3-sdk, but you can extract it to where ever you would like.  Note that if you want to install it to the default location, you will need to be root.  The example below shows the usage of <tt>sudo</tt> to achieve root, but you can also use <tt>su</tt> or simply install it to another user-writable directory.
</p>
<pre>linux $ sudo ./doom3-linux-1.3.1302-sdk.x86.run
</pre>
<p>Afterwards, you might want to give everyone write access to the sdk folder, so a plain user can make changes:
</p>
<pre>linux $ sudo chmod -R 777 /usr/local/games/doom3-sdk
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/w/index.php?title=How_to_build_the_SDK_on_Linux&amp;action=edit&amp;section=4" title="Edit section: Step 2. Running scons">edit</a>]</div><a name="Step_2._Running_scons"></a><h2> Step 2. Running scons </h2>
<p>If you have all of the libraries set up and GCC is the default compiler, then compiling the SDK should be as simple as:
</p>
<pre>linux $ cd /usr/local/games/doom3-sdk/src
linux $ scons BUILD="release"
...
</pre>
<p>Note that when running scons without the BUILD parameter, it will default to compiling a debug version of the source. This is good for testing things, but due to the massive inflation in filesize (3.6MB for release compared to around 20MB for debug) modifications intended for release should always be compiled with this.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/w/index.php?title=How_to_build_the_SDK_on_Linux&amp;action=edit&amp;section=5" title="Edit section: Successful build">edit</a>]</div><a name="Successful_build"></a><h3> Successful build </h3>
<p>If all goes well, the final output from scons will be:
</p>
<pre>scons: done building targets.
</pre>
<p>During compilation, there will be plenty of warnings, which is normal.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/w/index.php?title=How_to_build_the_SDK_on_Linux&amp;action=edit&amp;section=6" title="Edit section: Missing OpenGL libraries">edit</a>]</div><a name="Missing_OpenGL_libraries"></a><h3> Missing OpenGL libraries </h3>
<p>If your OpenGL libraries are missing, you will receive thousands of errors in the file "renderer/glext.h", and it will finally die with the message:
</p>
<pre>scons: *** [build/debug/d3xp/d3xp/AF.os] Error 1
scons: building terminated because of errors.
</pre>
<p>If this is the error you have, then you must install the xlibmesa-gl-dev package, or any other package that provides the files for /usr/include/GL.  These libraries require the libx11-dev libraries, so it is almost impossible to get specific x11 errors instead of this.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/w/index.php?title=How_to_build_the_SDK_on_Linux&amp;action=edit&amp;section=7" title="Edit section: Wrong compiler version">edit</a>]</div><a name="Wrong_compiler_version"></a><h3> Wrong compiler version </h3>
<p>If you are using any GCC version other than 3.3 while trying to build the SDK prior to v1.3.1, you will receive errors like this:
</p>
<pre>game/AF.cpp:741: warning: enumeration value `DECLAF_CONSTRAINT_INVALID' not handled in switch
game/AF.cpp: In member function `bool idAF::Load(idEntity*, const char*)':
game/AF.cpp:868: warning: comparison between `enum declAFConstraintType_t' and `enum constraintType_t'
scons: *** [build/debug/game/game/AF.os] Error 1
scons: building terminated because of errors.
</pre>
<p>Make sure you have the gcc-3.3 package installed, and then explicity pass that you want to use g++ 3.3 to scons like this:
</p>
<pre>linux $ scons CXX="g++-3.3"
</pre>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/w/index.php?title=How_to_build_the_SDK_on_Linux&amp;action=edit&amp;section=8" title="Edit section: Building on x86_64 (AMD64)">edit</a>]</div><a name="Building_on_x86_64_.28AMD64.29"></a><h3> Building on x86_64 (AMD64) </h3>
<p>If you are compiling in a native 64-bit environment, it will be necessary to tell GCC to compile and link objects in 32-bit mode.
</p><p>The provided scons configuration file does not include a mechanism to modify the linker flags, so you must do it manually.  Edit the file <i>src/SConstruct</i>, here you will see the following around line 274:
</p>
<pre>BASELINKFLAGS = [ ]
</pre>
<p>This line specifies a list of strings which should be used as link flags.  Modify this line to be:
</p>
<pre>BASELINKFLAGS = [ "-m32" ]
</pre>
<p>This will allow objects to be linked in 32-bit mode.
You must now instruct scons to tell GCC you want to compile the objects in 32-bit mode.  This can be accomplished by setting the BASEFLAGS for scons with:
</p>
<pre>linux $ scons BASEFLAGS="-m32"
</pre>
<p><b>Note:</b> You may need to install libc6 before compiling. Debian / Ubuntu users can do this by executing "sudo apt-get install libc6-dev-i386".
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/w/index.php?title=How_to_build_the_SDK_on_Linux&amp;action=edit&amp;section=9" title="Edit section: Packaging the file into a pk4">edit</a>]</div><a name="Packaging_the_file_into_a_pk4"></a><h2> Packaging the file into a pk4 </h2>
<p>Now, package everything into a pk4 for inclusion with your mod.  First, you'll need a file called binary.conf, and it needs to contain a single "2".
</p>
<pre>linux $ echo "2" &gt; binary.conf
</pre>
<p>Next you will need to rename your gamex86-xxxx.so file by removing either the -base or -d3xp suffix, depending on if your building for vanilla Doom 3 or the expansion respectively.
</p><p>Then throw the renamed gamex86.so and binary.conf into a zip file named (for example) game01.pk4:
</p>
<pre>linux $ zip game01.pk4 gamex86.so binary.conf
</pre>
<p>This will generate a zip file called game01.pk4 containing gamex86.so and binary.conf.  If you are building for the expansion, be sure to use the proper gamex86.so.
</p><p>Note that you can get scons to build the appropriate pk4s for you by calling it as such:
</p>
<pre>linux $ scons BUILD_GAMEPAK=1
</pre>
<p>As with any other scons option, it is saved in your site.conf, so you only have to use that argument the first time.
</p>
<div class="editsection" style="float:right;margin-left:5px;">[<a href="/w/index.php?title=How_to_build_the_SDK_on_Linux&amp;action=edit&amp;section=10" title="Edit section: Wrap Up">edit</a>]</div><a name="Wrap_Up"></a><h2> Wrap Up </h2>
<p>Please make any comments pertaining to problems or suggestions on the <a href="/wiki/Talk:Building_on_linux" title="Talk:Building on linux">Discussion Page</a>
</p>
<!-- Saved in parser cache with key modwiki:pcache:idhash:1224-0!1!0!0!!en!2 and timestamp 20100722193015 -->
<div class="printfooter">
Retrieved from "<a href="/wiki/How_to_build_the_SDK_on_Linux">http://www.modwiki.net/wiki/How_to_build_the_SDK_on_Linux</a>"</div>
			<div id="catlinks"><p class='catlinks'><a href="/w/index.php?title=Special:Categories&amp;article=How_to_build_the_SDK_on_Linux" title="Special:Categories">Category</a>: <span dir='ltr'><a href="/wiki/Category:Linux" title="Category:Linux">Linux</a></span><br /><hr /><a href="/wiki/Category:Modwiki" title="Category:Modwiki">Modwiki</a> &gt; <a href="/wiki/Category:Coding" title="Category:Coding">Coding</a> &gt; <a href="/wiki/Category:Linux" title="Category:Linux">Linux</a></p></div>			<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<ul>
				 <li id="ca-nstab-main" class="selected"><a href="/wiki/How_to_build_the_SDK_on_Linux">Article</a></li>
				 <li id="ca-talk"><a href="/wiki/Talk:How_to_build_the_SDK_on_Linux">Discussion</a></li>
				 <li id="ca-edit"><a href="/w/index.php?title=How_to_build_the_SDK_on_Linux&amp;action=edit">Edit</a></li>
				 <li id="ca-history"><a href="/w/index.php?title=How_to_build_the_SDK_on_Linux&amp;action=history">History</a></li>
		</ul>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/w/index.php?title=Special:Userlogin&amp;returnto=How_to_build_the_SDK_on_Linux">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/web/20100722231610im_/http://www.modwiki.net/wiki/upload/wiki.png);" href="/wiki/Main_Page" title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-Main'>
		<h5>Main</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage"><a href="/wiki/Main_Page">Main Page</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-id Tech 4'>
		<h5>id Tech 4</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Doom-3"><a href="/wiki/Doom_3">Doom 3</a></li>
				<li id="n-Quake-4"><a href="/wiki/Quake_4">Quake 4</a></li>
				<li id="n-Prey"><a href="/wiki/Prey">Prey</a></li>
				<li id="n-ETQW"><a href="/wiki/Enemy_Territory:_Quake_Wars">ETQW</a></li>
				<li id="n-Wolfenstein"><a href="/wiki/Wolfenstein">Wolfenstein</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-id Tech 5'>
		<h5>id Tech 5</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Rage"><a href="/wiki/Rage">Rage</a></li>
				<li id="n-Doom-4"><a href="/wiki/Doom_4">Doom 4</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-Quick Links'>
		<h5>Quick Links</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Console"><a href="/wiki/Console">Console</a></li>
				<li id="n-Script-Events"><a href="/wiki/Scripting">Script Events</a></li>
				<li id="n-Material-Keywords"><a href="/wiki/Material_%28decl%29">Material Keywords</a></li>
				<li id="n-Modification-List"><a href="/wiki/Modlist">Modification List</a></li>
				<li id="n-Tutorial-List"><a href="/wiki/Tutorial_list">Tutorial List</a></li>
			</ul>
		</div>
	</div>
		<div class='portlet' id='p-Wiki'>
		<h5>Wiki</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Open-tasks"><a href="/wiki/modwiki:Open_tasks">Open tasks</a></li>
				<li id="n-recentchanges"><a href="/wiki/Special:Recentchanges">Recent changes</a></li>
				<li id="n-Style-guide"><a href="/wiki/modwiki:Style_guide">Style guide</a></li>
				<li id="n-help"><a href="/wiki/Help:Contents">Help</a></li>
			</ul>
		</div>
	</div>
		<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/wiki/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" value="Search" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/wiki/Special:Whatlinkshere/How_to_build_the_SDK_on_Linux">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/wiki/Special:Recentchangeslinked/How_to_build_the_SDK_on_Linux">Related changes</a></li>
<li id="t-upload"><a href="/wiki/Special:Upload">Upload file</a></li>
<li id="t-specialpages"><a href="/wiki/Special:Specialpages">Special pages</a></li>
				<li id="t-print"><a href="/w/index.php?title=How_to_build_the_SDK_on_Linux&amp;printable=yes">Printable version</a></li>				<li id="t-permalink"><a href="/w/index.php?title=How_to_build_the_SDK_on_Linux&amp;oldid=12297">Permanent link</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="/web/20100722231610/http://www.mediawiki.org/"><img src="/w/skins/common/images/poweredby_mediawiki_88x31.png" alt="MediaWiki" /></a></div>
				<div id="f-copyrightico"><a href="/web/20100722231610/http://www.gnu.org/copyleft/fdl.html"><img src="/w/skins/common/images/gnu-fdl.png" alt='GNU Free Documentation License 1.2' /></a></div>
			<ul id="f-list">
				<li id="lastmod"> This page was last modified 18:11, 14 February 2008.</li>
				<li id="copyright">Content is available under <a href="/web/20100722231610/http://www.gnu.org/copyleft/fdl.html" class='external ' title="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.2</a>.</li>
				<li id="privacy"><a href="/wiki/modwiki:Privacy_policy" title="modwiki:Privacy policy">Privacy policy</a></li>
				<li id="about"><a href="/wiki/modwiki:About" title="modwiki:About">About modwiki</a></li>
				<li id="disclaimer"><a href="/wiki/modwiki:General_disclaimer" title="modwiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
	<script type="text/javascript"> if (window.runOnloadHook) runOnloadHook();</script>
</div>
<!-- Served by h982484 in 0.16 secs. -->
</body></html>





<!--
     FILE ARCHIVED ON 23:16:10 Jul 22, 2010 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 4:05:42 Oct 19, 2014.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
